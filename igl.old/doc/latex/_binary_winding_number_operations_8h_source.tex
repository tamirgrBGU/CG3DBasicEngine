\hypertarget{_binary_winding_number_operations_8h_source}{}\doxysection{Binary\+Winding\+Number\+Operations.\+h}
\label{_binary_winding_number_operations_8h_source}\index{igl/copyleft/cgal/BinaryWindingNumberOperations.h@{igl/copyleft/cgal/BinaryWindingNumberOperations.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// This file is part of libigl, a simple c++ geometry processing library.}}
\DoxyCodeLine{2 \textcolor{comment}{// }}
\DoxyCodeLine{3 \textcolor{comment}{// Copyright (C) 2015 Qingnan Zhou <qnzhou@gmail.com>}}
\DoxyCodeLine{4 \textcolor{comment}{// }}
\DoxyCodeLine{5 \textcolor{comment}{// This Source Code Form is subject to the terms of the Mozilla Public License }}
\DoxyCodeLine{6 \textcolor{comment}{// v. 2.0. If a copy of the MPL was not distributed with this file, You can }}
\DoxyCodeLine{7 \textcolor{comment}{// obtain one at http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{8 \textcolor{comment}{//}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef IGL\_COPYLEFT\_CGAL\_BINARY\_WINDING\_NUMBER\_OPERATIONS\_H}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define IGL\_COPYLEFT\_CGAL\_BINARY\_WINDING\_NUMBER\_OPERATIONS\_H}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}../../igl\_inline.h"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}../../MeshBooleanType.h"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <Eigen/Core>}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{comment}{// TODO: This is not written according to libigl style. These should be}}
\DoxyCodeLine{18 \textcolor{comment}{// function handles.}}
\DoxyCodeLine{19 \textcolor{comment}{//}}
\DoxyCodeLine{20 \textcolor{comment}{// Why is this templated on DerivedW}}
\DoxyCodeLine{21 \textcolor{comment}{//}}
\DoxyCodeLine{22 \textcolor{comment}{// These are all generalized to n-\/ary operations}}
\DoxyCodeLine{23 \textcolor{keyword}{namespace }igl}
\DoxyCodeLine{24 \{}
\DoxyCodeLine{25   \textcolor{keyword}{namespace }copyleft}
\DoxyCodeLine{26   \{}
\DoxyCodeLine{27     \textcolor{keyword}{namespace }cgal}
\DoxyCodeLine{28     \{}
\DoxyCodeLine{29       \textcolor{keyword}{template} <igl::MeshBooleanType Op>}
\DoxyCodeLine{30       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}} \{}
\DoxyCodeLine{31         \textcolor{keyword}{public}:}
\DoxyCodeLine{32           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{33             \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{34                 \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& \textcolor{comment}{/*win\_nums*/})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{35               \textcolor{keywordflow}{throw} (std::runtime\_error(\textcolor{stringliteral}{"{}not implemented!"{}}));}
\DoxyCodeLine{36             \}}
\DoxyCodeLine{37       \};}
\DoxyCodeLine{38 }
\DoxyCodeLine{39       \textcolor{comment}{// A ∪ B ∪ ... ∪ Z}}
\DoxyCodeLine{40       \textcolor{keyword}{template} <>}
\DoxyCodeLine{41       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}}<MESH\_BOOLEAN\_TYPE\_UNION> \{}
\DoxyCodeLine{42         \textcolor{keyword}{public}:}
\DoxyCodeLine{43           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{44           \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{45               \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& win\_nums)\textcolor{keyword}{ const }}
\DoxyCodeLine{46 \textcolor{keyword}{          }\{}
\DoxyCodeLine{47             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0;i<win\_nums.size();i++)}
\DoxyCodeLine{48             \{}
\DoxyCodeLine{49               \textcolor{keywordflow}{if}(win\_nums(i) > 0) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{50             \}}
\DoxyCodeLine{51             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{52           \}}
\DoxyCodeLine{53       \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55       \textcolor{comment}{// A ∩ B ∩ ... ∩ Z}}
\DoxyCodeLine{56       \textcolor{keyword}{template} <>}
\DoxyCodeLine{57       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}}<MESH\_BOOLEAN\_TYPE\_INTERSECT> \{}
\DoxyCodeLine{58         \textcolor{keyword}{public}:}
\DoxyCodeLine{59           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{60           \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{61               \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& win\_nums)\textcolor{keyword}{ const }}
\DoxyCodeLine{62 \textcolor{keyword}{          }\{}
\DoxyCodeLine{63             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0;i<win\_nums.size();i++)}
\DoxyCodeLine{64             \{}
\DoxyCodeLine{65               \textcolor{keywordflow}{if}(win\_nums(i)<=0) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{66             \}}
\DoxyCodeLine{67             \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{68           \}}
\DoxyCodeLine{69       \};}
\DoxyCodeLine{70 }
\DoxyCodeLine{71       \textcolor{comment}{// A \(\backslash\) B \(\backslash\) ... \(\backslash\) Z = A \(\backslash\) (B ∪ ... ∪ Z)}}
\DoxyCodeLine{72       \textcolor{keyword}{template} <>}
\DoxyCodeLine{73       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}}<MESH\_BOOLEAN\_TYPE\_MINUS> \{}
\DoxyCodeLine{74         \textcolor{keyword}{public}:}
\DoxyCodeLine{75           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{76           \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{77               \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& win\_nums)\textcolor{keyword}{ const }}
\DoxyCodeLine{78 \textcolor{keyword}{          }\{}
\DoxyCodeLine{79             assert(win\_nums.size()>1);}
\DoxyCodeLine{80             \textcolor{comment}{// Union of objects 1 through n-\/1}}
\DoxyCodeLine{81             \textcolor{keywordtype}{bool} union\_rest = \textcolor{keyword}{false};}
\DoxyCodeLine{82             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 1;i<win\_nums.size();i++)}
\DoxyCodeLine{83             \{}
\DoxyCodeLine{84               union\_rest = union\_rest || win\_nums(i) > 0;}
\DoxyCodeLine{85               \textcolor{keywordflow}{if}(union\_rest) \textcolor{keywordflow}{break};}
\DoxyCodeLine{86             \}}
\DoxyCodeLine{87             \textcolor{comment}{// Must be in object 0 and not in union of objects 1 through n-\/1}}
\DoxyCodeLine{88             \textcolor{keywordflow}{return} win\_nums(0) > 0 \&\& !union\_rest;}
\DoxyCodeLine{89           \}}
\DoxyCodeLine{90       \};}
\DoxyCodeLine{91 }
\DoxyCodeLine{92       \textcolor{comment}{// A ∆ B ∆ ... ∆ Z  (equivalent to set inside odd number of objects)}}
\DoxyCodeLine{93       \textcolor{keyword}{template} <>}
\DoxyCodeLine{94       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}}<MESH\_BOOLEAN\_TYPE\_XOR> \{}
\DoxyCodeLine{95         \textcolor{keyword}{public}:}
\DoxyCodeLine{96           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{97           \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{98               \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& win\_nums)\textcolor{keyword}{ const }}
\DoxyCodeLine{99 \textcolor{keyword}{          }\{}
\DoxyCodeLine{100             \textcolor{comment}{// If inside an odd number of objects}}
\DoxyCodeLine{101             \textcolor{keywordtype}{int} count = 0;}
\DoxyCodeLine{102             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0;i<win\_nums.size();i++)}
\DoxyCodeLine{103             \{}
\DoxyCodeLine{104               \textcolor{keywordflow}{if}(win\_nums(i) > 0) count++;}
\DoxyCodeLine{105             \}}
\DoxyCodeLine{106             \textcolor{keywordflow}{return} count \% 2 == 1;}
\DoxyCodeLine{107           \}}
\DoxyCodeLine{108       \};}
\DoxyCodeLine{109 }
\DoxyCodeLine{110       \textcolor{keyword}{template} <>}
\DoxyCodeLine{111       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations}{BinaryWindingNumberOperations}}<MESH\_BOOLEAN\_TYPE\_RESOLVE> \{}
\DoxyCodeLine{112         \textcolor{keyword}{public}:}
\DoxyCodeLine{113           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{114             \textcolor{keyword}{typename} DerivedW::Scalar operator()(}
\DoxyCodeLine{115                 \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& \textcolor{comment}{/*win\_nums*/})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{116               \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{117             \}}
\DoxyCodeLine{118       \};}
\DoxyCodeLine{119 }
\DoxyCodeLine{120       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___u_n_i_o_n_01_4}{BinaryWindingNumberOperations<MESH\_BOOLEAN\_TYPE\_UNION>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___u_n_i_o_n_01_4}{BinaryUnion}};}
\DoxyCodeLine{121       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n__b270ad41c77abc27e897c3ef2875a894}{BinaryWindingNumberOperations<MESH\_BOOLEAN\_TYPE\_INTERSECT>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n__b270ad41c77abc27e897c3ef2875a894}{BinaryIntersect}};}
\DoxyCodeLine{122       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___m_i_n_u_s_01_4}{BinaryWindingNumberOperations<MESH\_BOOLEAN\_TYPE\_MINUS>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___m_i_n_u_s_01_4}{BinaryMinus}};}
\DoxyCodeLine{123       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___x_o_r_01_4}{BinaryWindingNumberOperations<MESH\_BOOLEAN\_TYPE\_XOR>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___x_o_r_01_4}{BinaryXor}};}
\DoxyCodeLine{124       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___r_e_s_o_l_v_e_01_4}{BinaryWindingNumberOperations<MESH\_BOOLEAN\_TYPE\_RESOLVE>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_binary_winding_number_operations_3_01_m_e_s_h___b_o_o_l_e_a_n___t_y_p_e___r_e_s_o_l_v_e_01_4}{BinaryResolve}};}
\DoxyCodeLine{125 }
\DoxyCodeLine{126       \textcolor{keyword}{enum} KeeperType \{}
\DoxyCodeLine{127         KEEP\_INSIDE,}
\DoxyCodeLine{128         KEEP\_ALL}
\DoxyCodeLine{129       \};}
\DoxyCodeLine{130 }
\DoxyCodeLine{131       \textcolor{keyword}{template}<KeeperType T>}
\DoxyCodeLine{132       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter}{WindingNumberFilter}} \{}
\DoxyCodeLine{133         \textcolor{keyword}{public}:}
\DoxyCodeLine{134           \textcolor{keyword}{template}<\textcolor{keyword}{typename} DerivedW>}
\DoxyCodeLine{135             \textcolor{keywordtype}{short} operator()(}
\DoxyCodeLine{136                 \textcolor{keyword}{const} Eigen::PlainObjectBase<DerivedW>\& \textcolor{comment}{/*win\_nums*/})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{137               \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Not implemented"{}});}
\DoxyCodeLine{138             \}}
\DoxyCodeLine{139       \};}
\DoxyCodeLine{140 }
\DoxyCodeLine{141       \textcolor{keyword}{template}<>}
\DoxyCodeLine{142       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter}{WindingNumberFilter}}<KEEP\_INSIDE> \{}
\DoxyCodeLine{143         \textcolor{keyword}{public}:}
\DoxyCodeLine{144           \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{145           \textcolor{keywordtype}{short} operator()(T out\_w, T in\_w)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{146             \textcolor{keywordflow}{if} (in\_w > 0 \&\& out\_w <= 0) \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{147             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (in\_w <= 0 \&\& out\_w > 0) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{148             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{149           \}}
\DoxyCodeLine{150       \};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152       \textcolor{keyword}{template}<>}
\DoxyCodeLine{153       \textcolor{keyword}{class }\mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter}{WindingNumberFilter}}<KEEP\_ALL> \{}
\DoxyCodeLine{154         \textcolor{keyword}{public}:}
\DoxyCodeLine{155           \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{156             \textcolor{keywordtype}{short} operator()(T \textcolor{comment}{/*out\_w*/}, T \textcolor{comment}{/*in\_w*/})\textcolor{keyword}{ const }\{}
\DoxyCodeLine{157               \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{158             \}}
\DoxyCodeLine{159       \};}
\DoxyCodeLine{160 }
\DoxyCodeLine{161       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter_3_01_k_e_e_p___i_n_s_i_d_e_01_4}{WindingNumberFilter<KEEP\_INSIDE>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter_3_01_k_e_e_p___i_n_s_i_d_e_01_4}{KeepInside}};}
\DoxyCodeLine{162       \textcolor{keyword}{typedef} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter_3_01_k_e_e_p___a_l_l_01_4}{WindingNumberFilter<KEEP\_ALL>}} \mbox{\hyperlink{classigl_1_1copyleft_1_1cgal_1_1_winding_number_filter_3_01_k_e_e_p___a_l_l_01_4}{KeepAll}};}
\DoxyCodeLine{163     \}}
\DoxyCodeLine{164   \}}
\DoxyCodeLine{165 \}}
\DoxyCodeLine{166 }
\DoxyCodeLine{167 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
